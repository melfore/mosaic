"use strict";(self.webpackChunk_melfore_mosaic=self.webpackChunk_melfore_mosaic||[]).push([[697],{"./src/utils/stories/decorators/Modal.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Button/index.tsx"),_types_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/types/Icon.ts");function cov_1af48nwf06(){var path="/home/runner/work/mosaic/mosaic/src/utils/stories/decorators/Modal.tsx",global=new Function("return this")(),gcv="__coverage__",coverageData={path:"/home/runner/work/mosaic/mosaic/src/utils/stories/decorators/Modal.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:31,column:1}},1:{start:{line:10,column:26},end:{line:10,column:48}},2:{start:{line:11,column:2},end:{line:16,column:21}},3:{start:{line:12,column:4},end:{line:14,column:5}},4:{start:{line:13,column:6},end:{line:13,column:28}},5:{start:{line:17,column:22},end:{line:17,column:82}},6:{start:{line:17,column:40},end:{line:17,column:70}},7:{start:{line:17,column:60},end:{line:17,column:69}},8:{start:{line:18,column:23},end:{line:22,column:36}},9:{start:{line:18,column:50},end:{line:22,column:4}},10:{start:{line:23,column:2},end:{line:30,column:20}},11:{start:{line:32,column:23},end:{line:32,column:90}},12:{start:{line:32,column:45},end:{line:32,column:90}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:18},end:{line:5,column:19}},loc:{start:{line:9,column:6},end:{line:31,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:16,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:40},end:{line:17,column:70}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:17,column:48},end:{line:17,column:49}},loc:{start:{line:17,column:60},end:{line:17,column:69}},line:17},4:{name:"(anonymous_4)",decl:{start:{line:18,column:31},end:{line:18,column:32}},loc:{start:{line:18,column:50},end:{line:22,column:4}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:32,column:23},end:{line:32,column:24}},loc:{start:{line:32,column:45},end:{line:32,column:90}},line:32}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:6,column:22}},type:"default-arg",locations:[{start:{line:6,column:16},end:{line:6,column:22}}],line:6},1:{loc:{start:{line:8,column:8},end:{line:8,column:28}},type:"default-arg",locations:[{start:{line:8,column:23},end:{line:8,column:28}}],line:8},2:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0],2:[0,0]},inputSourceMap:{version:3,names:["React","cloneElement","useCallback","useEffect","useMemo","useState","Button","Icons","ModalMock","buttonLabel","children","open","externalOpen","setOpen","toggleModal","prevOpen","wrappedModal","closable","onClose","createElement","icon","name","open_new","label","onClick","variant","ModalDecorator","Story"],sources:["/home/runner/work/mosaic/mosaic/src/utils/stories/decorators/Modal.tsx"],sourcesContent:['/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, {\n  cloneElement,\n  FC,\n  PropsWithChildren,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from "react";\nimport { Decorator } from "@storybook/react";\n\nimport Button from "../../../components/Button";\nimport { Icons } from "../../../types/Icon";\n\nexport interface ModalMockProps {\n  buttonLabel?: string;\n  open?: boolean;\n}\n\nconst ModalMock: FC<PropsWithChildren<ModalMockProps>> = ({\n  buttonLabel = "Open",\n  children,\n  open: externalOpen = false,\n}) => {\n  const [open, setOpen] = useState(externalOpen);\n\n  useEffect(() => {\n    if (externalOpen !== open) {\n      setOpen(externalOpen);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [externalOpen]);\n\n  const toggleModal = useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]);\n\n  const wrappedModal = useMemo(\n    () =>\n      cloneElement(children as ReactElement<any>, {\n        closable: true,\n        onClose: toggleModal,\n        open,\n      }),\n    [children, open, toggleModal]\n  );\n\n  return (\n    <div>\n      <Button icon={{ name: Icons.open_new }} label={buttonLabel} onClick={toggleModal} variant="outlined" />\n      {wrappedModal}\n    </div>\n  );\n};\n\nconst ModalDecorator: Decorator<ModalMockProps> = (Story) => <ModalMock>{Story()}</ModalMock>;\n\nexport default ModalDecorator;\n'],mappings:"AAAA;AACA,OAAOA,KAAK,IACVC,YAAY,EAIZC,WAAW,EACXC,SAAS,EACTC,OAAO,EACPC,QAAQ,QACH,OAAO;AAGd,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,SAASC,KAAK,QAAQ,qBAAqB;AAO3C,MAAMC,SAAgD,GAAGA,CAAC;EACxDC,WAAW,GAAG,MAAM;EACpBC,QAAQ;EACRC,IAAI,EAAEC,YAAY,GAAG;AACvB,CAAC,KAAK;EACJ,MAAM,CAACD,IAAI,EAAEE,OAAO,CAAC,GAAGR,QAAQ,CAACO,YAAY,CAAC;EAE9CT,SAAS,CAAC,MAAM;IACd,IAAIS,YAAY,KAAKD,IAAI,EAAE;MACzBE,OAAO,CAACD,YAAY,CAAC;IACvB;IACA;EACF,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,MAAME,WAAW,GAAGZ,WAAW,CAAC,MAAMW,OAAO,CAAEE,QAAQ,IAAK,CAACA,QAAQ,CAAC,EAAE,CAACF,OAAO,CAAC,CAAC;EAElF,MAAMG,YAAY,GAAGZ,OAAO,CAC1B,mBACEH,YAAY,CAACS,QAAQ,EAAuB;IAC1CO,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAEJ,WAAW;IACpBH;EACF,CAAC,CAAC,EACJ,CAACD,QAAQ,EAAEC,IAAI,EAAEG,WAAW,CAC9B,CAAC;EAED,oBACEd,KAAA,CAAAmB,aAAA,2BACEnB,KAAA,CAAAmB,aAAA,CAACb,MAAM;IAACc,IAAI,EAAE;MAAEC,IAAI,EAAEd,KAAK,CAACe;IAAS,CAAE;IAACC,KAAK,EAAEd,WAAY;IAACe,OAAO,EAAEV,WAAY;IAACW,OAAO,EAAC;EAAU,CAAE,CAAC,EACtGT,YACE,CAAC;AAEV,CAAC;AAED,MAAMU,cAAyC,GAAIC,KAAK,iBAAK3B,KAAA,CAAAmB,aAAA,CAACX,SAAS,QAAEmB,KAAK,CAAC,CAAa,CAAC;AAE7F,eAAeD,cAAc",ignoreList:[]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed2aa022f7b7ae9eb50d080560be0eb5706a497d"},coverage=global[gcv]||(global[gcv]={});coverage[path]&&"ed2aa022f7b7ae9eb50d080560be0eb5706a497d"===coverage[path].hash||(coverage[path]=coverageData);var actualCoverage=coverage[path];return cov_1af48nwf06=function(){return actualCoverage},actualCoverage}cov_1af48nwf06(),cov_1af48nwf06().s[0]++;const ModalMock=({buttonLabel:buttonLabel=(cov_1af48nwf06().b[0][0]++,"Open"),children:children,open:externalOpen=(cov_1af48nwf06().b[1][0]++,!1)})=>{cov_1af48nwf06().f[0]++;const[open,setOpen]=(cov_1af48nwf06().s[1]++,(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(externalOpen));cov_1af48nwf06().s[2]++,(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{cov_1af48nwf06().f[1]++,cov_1af48nwf06().s[3]++,externalOpen!==open?(cov_1af48nwf06().b[2][0]++,cov_1af48nwf06().s[4]++,setOpen(externalOpen)):cov_1af48nwf06().b[2][1]++}),[externalOpen]);const toggleModal=(cov_1af48nwf06().s[5]++,(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(cov_1af48nwf06().f[2]++,cov_1af48nwf06().s[6]++,setOpen((prevOpen=>(cov_1af48nwf06().f[3]++,cov_1af48nwf06().s[7]++,!prevOpen))))),[setOpen])),wrappedModal=(cov_1af48nwf06().s[8]++,(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(cov_1af48nwf06().f[4]++,cov_1af48nwf06().s[9]++,(0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(children,{closable:!0,onClose:toggleModal,open:open}))),[children,open,toggleModal]));return cov_1af48nwf06().s[10]++,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_1__.Ay,{icon:{name:_types_Icon__WEBPACK_IMPORTED_MODULE_2__.F.open_new},label:buttonLabel,onClick:toggleModal,variant:"outlined"}),wrappedModal)};cov_1af48nwf06().s[11]++;__webpack_exports__.A=Story=>(cov_1af48nwf06().f[5]++,cov_1af48nwf06().s[12]++,react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalMock,null,Story()))},"./src/components/Modal/index.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ActionCancel:function(){return ActionCancel},ActionConfirm:function(){return ActionConfirm},Actions:function(){return Actions},Closeable:function(){return Closeable},Localized:function(){return Localized},Primary:function(){return Primary},SizeFullScreen:function(){return SizeFullScreen},SizeLarge:function(){return SizeLarge},SizeSmall:function(){return SizeSmall},__namedExportsOrder:function(){return __namedExportsOrder}});var _storybook_test__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/index.ts"),_utils_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/stories/index.tsx"),_utils_stories_decorators_Locale__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/stories/decorators/Locale.tsx"),_utils_stories_decorators_Modal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/stories/decorators/Modal.tsx"),___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Modal/index.tsx");(0,_storybook_test__WEBPACK_IMPORTED_MODULE_0__.jK)({testIdAttribute:"data-cy"});___WEBPACK_IMPORTED_MODULE_5__.x7.displayName="Modal";const meta={title:"Feedback/Modal",component:___WEBPACK_IMPORTED_MODULE_5__.x7,decorators:[_utils_stories_decorators_Modal__WEBPACK_IMPORTED_MODULE_4__.A,_utils_stories_decorators_Locale__WEBPACK_IMPORTED_MODULE_3__.Ay],parameters:{docs:{...(0,_utils_stories__WEBPACK_IMPORTED_MODULE_2__.A)({basedOn:{label:"MUI Dialog Component",url:"https://mui.com/components/dialogs/"},component:"Modal",e2eTestInfo:{dataCyDefault:___WEBPACK_IMPORTED_MODULE_5__.Y5,dataCyShortcut:___WEBPACK_IMPORTED_MODULE_5__.Dx,subpartsSuffixes:(0,_utils__WEBPACK_IMPORTED_MODULE_1__.kC)(___WEBPACK_IMPORTED_MODULE_5__.op)},localizableProps:___WEBPACK_IMPORTED_MODULE_5__.eH}),description:{component:"The Modal is a surface that contains application content."}}}};__webpack_exports__.default=meta;const Primary={args:{children:"Modal Content",title:"Modal"}},Closeable={args:{...Primary.args,closable:!0}},ActionCancel={args:{...Closeable.args,cancel:{action:()=>{},label:"Cancel",variant:"outlined"}}},ActionConfirm={args:{...Closeable.args,confirm:{action:()=>{},label:"Confirm"}}},Actions={args:{...Closeable.args,cancel:{action:()=>{},label:"Cancel",variant:"outlined"},confirm:{action:()=>{},label:"Confirm"}}},Localized={args:{...Primary.args,localized:!0,title:_utils_stories_decorators_Locale__WEBPACK_IMPORTED_MODULE_3__.Sp.title,cancel:{...Actions.args.cancel,label:_utils_stories_decorators_Locale__WEBPACK_IMPORTED_MODULE_3__.Sp.cancel},confirm:{...Actions.args.confirm,label:_utils_stories_decorators_Locale__WEBPACK_IMPORTED_MODULE_3__.Sp.confirm}}},SizeSmall={args:{...Closeable.args,size:"sm"}},SizeLarge={args:{...Closeable.args,size:"lg"}},SizeFullScreen={args:{...Closeable.args,size:"xl"}},__namedExportsOrder=["Primary","Closeable","ActionCancel","ActionConfirm","Actions","Localized","SizeSmall","SizeLarge","SizeFullScreen"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    children: "Modal Content",\n    title: "Modal"\n  }\n}',...Primary.parameters?.docs?.source}}},Closeable.parameters={...Closeable.parameters,docs:{...Closeable.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Primary.args,\n    closable: true\n  }\n}",...Closeable.parameters?.docs?.source}}},ActionCancel.parameters={...ActionCancel.parameters,docs:{...ActionCancel.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Closeable.args,\n    cancel: {\n      action: () => {},\n      label: "Cancel",\n      variant: "outlined"\n    }\n  }\n}',...ActionCancel.parameters?.docs?.source}}},ActionConfirm.parameters={...ActionConfirm.parameters,docs:{...ActionConfirm.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Closeable.args,\n    confirm: {\n      action: () => {},\n      label: "Confirm"\n    }\n  }\n}',...ActionConfirm.parameters?.docs?.source}}},Actions.parameters={...Actions.parameters,docs:{...Actions.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Closeable.args,\n    cancel: {\n      action: () => {},\n      label: "Cancel",\n      variant: "outlined"\n    },\n    confirm: {\n      action: () => {},\n      label: "Confirm"\n    }\n  }\n}',...Actions.parameters?.docs?.source}}},Localized.parameters={...Localized.parameters,docs:{...Localized.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Primary.args,\n    localized: true,\n    title: MessageMock.title,\n    cancel: {\n      ...Actions.args.cancel!,\n      label: MessageMock.cancel\n    },\n    confirm: {\n      ...Actions.args.confirm!,\n      label: MessageMock.confirm\n    }\n  }\n}",...Localized.parameters?.docs?.source}}},SizeSmall.parameters={...SizeSmall.parameters,docs:{...SizeSmall.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Closeable.args,\n    size: "sm"\n  }\n}',...SizeSmall.parameters?.docs?.source}}},SizeLarge.parameters={...SizeLarge.parameters,docs:{...SizeLarge.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Closeable.args,\n    size: "lg"\n  }\n}',...SizeLarge.parameters?.docs?.source}}},SizeFullScreen.parameters={...SizeFullScreen.parameters,docs:{...SizeFullScreen.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Closeable.args,\n    size: "xl"\n  }\n}',...SizeFullScreen.parameters?.docs?.source}}}}}]);